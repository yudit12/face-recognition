(this["webpackJsonpface-recognition-client"]=this["webpackJsonpface-recognition-client"]||[]).push([[0],{103:function(e,t,a){e.exports=a(180)},108:function(e,t,a){},109:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},173:function(e,t){},174:function(e,t){},175:function(e,t){},177:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(73),s=a.n(i),o=(a(108),a(26)),c=a(27),l=a(32),m=a(28),u=a(33),d=a(96),p=a.n(d),h=function(e){var t=e.onRouteChange;return e.isSignedIn?r.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement("p",{onClick:function(){return t("imagefacedetection")},className:"f5 link dim black underline pa3 pointer"},"Image Face Detection"),r.a.createElement("p",{onClick:function(){return t("videofacedetection")},className:"f5 link dim black underline pa3 pointer"}," Video Face Detection"),r.a.createElement("p",{onClick:function(){return t("signout")},className:"f5 link dim black underline pa3 pointer"},"Sign Out")):r.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement("p",{onClick:function(){return t("signin")},className:"f3 link dim black underline pa3 pointer"},"Sign In"),r.a.createElement("p",{onClick:function(){return t("register")},className:"f3 link dim black underline pa3 pointer"},"Register"))},f=a(97),b=a.n(f),g=a(98),w=a.n(g),v=(a(109),function(){return r.a.createElement("div",{className:"ma4 mt0"},r.a.createElement(b.a,{className:"Tilt br2 shadow-2",options:{max:60},style:{height:150,width:150}},r.a.createElement("div",{className:"Tilt-inner pa3"},r.a.createElement("img",{alt:"logo",src:w.a}))))}),E=a(65),N=a(23),k=(a(80),function(e){var t=e.onRouteChange,a=e.loadUser;return r.a.createElement(E.a,{initialValues:{isSubmitting:"",email:"",password:""},onSubmit:function(e,n){n.setSubmitting,n.setuser;setTimeout((function(){fetch("https://cors-anywhere.herokuapp.com/https://server-image-face-detection.herokuapp.com/api/sginin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}).then((function(e){return e.json()})).then((function(n){n.id?(a(n),e.isSubmitting=!0,t("home")):"error loggin in!!"===n?(console.log("worng email or password"),e.isSubmitting=!1):(console.log("Ooops something went wrong"),e.isSubmitting=!1),console.log(e.isSubmitting)})).catch((function(e){return console.log(e)}))}),500)},validationSchema:N.a().shape({email:N.b().email().required("Required"),password:N.b().required("No password provided.").min(1,"Password is too short - should be 8 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number.")})},(function(e){var a=e.values,n=e.touched,i=e.errors,s=e.handleChange,o=e.handleBlur,c=e.handleSubmit;return r.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{className:"measure ",onSubmit:c},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:i.email&&n.email&&"error",type:"email",name:"email",id:"email-address",value:a.email,onChange:s,onBlur:o}),i.email&&n.email&&r.a.createElement("div",{className:"input-feedback"},i.email)),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:i.password&&n.password&&"error",type:"password",name:"password",id:"password",value:a.password,onChange:s,onBlur:o}),i.password&&n.password&&r.a.createElement("div",{className:"input-feedback"},i.password))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib ",type:"submit",value:"Sign in",name:"Sign in",id:"signin",onChange:s,onBlur:o}),!1===a.isSubmitting?r.a.createElement("div",{className:"input-feedback"},"wrong email or password!"):""),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{onClick:function(){return t("register")},href:"#0",className:"f6 link dim black db pointer"},"Register")))))}))}),y=function(e){var t=e.onRouteChange,a=e.loadUser;return r.a.createElement(E.a,{initialValues:{isSubmitting:"",name:"",email:"",password:""},onSubmit:function(e,n){n.setuser,n.setSubmitting;setTimeout((function(){fetch("https://cors-anywhere.herokuapp.com/https://server-image-face-detection.herokuapp.com/api/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password})}).then((function(e){return e.json()})).then((function(n){n.id?(a(n),t("home"),e.isSubmitting=!0):"didnt save user!!"===n?(console.log("Please enter different email or password "),e.isSubmitting=!1):(console.log("something went wrong , Please try again"),e.isSubmitting=!1)})).catch((function(e){return console.log(e)}))}),500)},validationSchema:N.a().shape({name:N.b().required("Required").min(1,"Name too short"),email:N.b().email().required("Required"),password:N.b().required("No password provided.").min(1,"Password is too short - should be 8 chars minimum.").matches(/(?=.*[0-9])/,"Password must contain a number.")})},(function(e){var a=e.values,n=e.touched,i=e.errors,s=e.handleChange,o=e.handleBlur,c=e.handleSubmit;return r.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{className:"measure ",onSubmit:c},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Register "),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name-address"},"Name"),r.a.createElement("input",{className:i.name&&n.name&&"error",type:"text",name:"name",id:"name",value:a.name,onChange:s,onBlur:o}),i.name&&n.name&&r.a.createElement("div",{className:"input-feedback"},i.name)),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:i.email&&n.email&&"error",type:"email",name:"email",id:"email-address",value:a.email,onChange:s,onBlur:o}),i.email&&n.email&&r.a.createElement("div",{className:"input-feedback"},i.email)),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:i.password&&n.password&&"error",type:"password",name:"password",id:"password",value:a.password,onChange:s,onBlur:o}),i.password&&n.password&&r.a.createElement("div",{className:"input-feedback"},i.password)),r.a.createElement("p",{onClick:function(){return t("passwordChecker")},href:"#0",className:"f6 link dim black db pointer"}," password check?")),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib ",type:"submit",value:"Register"}),!1===a.isSubmitting?r.a.createElement("div",{className:"input-feedback"},"Please enter different email or password"):""))))}))},S={inserted_password:"",output:""},C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onInputChange=function(e){a.setState({inserted_password:e.target.value})},a.onPasswordSubmit=function(){fetch("https://cors-anywhere.herokuapp.com/https://server-image-face-detection.herokuapp.com/password_checker",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.inserted_password})}).then((function(e){return e.json()})).then((function(e){a.setState({output:e})})).catch((function(e){return console.log(e)}))},a.state=S,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure "},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f3 fw6 ph0 mh0"},"Password Checker"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Enter password"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",name:"password",id:"password",onChange:this.onInputChange}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib ",type:"submit",value:"check",onClick:this.onPasswordSubmit}))))),""!==this.state.output&&this.state.output.includes("was found")?r.a.createElement("div",{style:{marginTop:20,fontSize:30,color:"red"}}," ",this.state.output," "):""!==this.state.output&&this.state.output.includes("NOT found")?r.a.createElement("div",{style:{marginTop:20,fontSize:30,color:"green"}}," ",this.state.output," "):"")}}]),t}(r.a.Component),j=a(70),x=(a(113),function(e){var t=e.input_error,a=e.onInputChange,n=e.onButtonSubmit;return r.a.createElement("div",null,r.a.createElement("p",{className:"f3"},"This Brain will detect the face in the picture . Try it(; "),r.a.createElement("div",null,r.a.createElement("div",{className:"form1 center pa4 br3 shadow-5"},r.a.createElement("input",{className:"f4 pa2 w-70 center",type:"tex",onChange:a}),r.a.createElement("button",{className:"w-30 grow f4 link ph3 pv2 dib white bg-light-purple",onClick:n},"Detect"))),""!==t?r.a.createElement("div",{style:{marginTop:20,fontSize:20,color:"red"}}," *Please enter image link "):"")}),O=(a(114),a(55)),_=a.n(O),R=function(e){var t=e.box,a=e.imageUrl;return _()(a)?r.a.createElement("div",{className:"center ma"},r.a.createElement("div",{className:"absolute mt2"},r.a.createElement("img",{id:"inputimage",alt:"",src:a,width:"500px",heigh:"auto"}),t.map((function(e,t){return r.a.createElement("div",{key:t.toString(),className:"bounding-box",style:{top:e.topRow,right:e.rightCol,bottom:e.bottomRow,left:e.leftCol}})})))):r.a.createElement("div",null)},I=function(e){var t=e.name,a=e.entries;return r.a.createElement("div",null,r.a.createElement("div",{className:"white f3"},"".concat(t,", your current entry count is...")),r.a.createElement("div",{className:"white f1"},a))},T=a(76),B=a.n(T),F=new B.a.App({apiKey:"344f82caa0f94d048bd5051627471713"}),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onInputChange=function(e){a.setState({input:e.target.value})},a.calculateFaceLocation=function(e){var t=Object(j.a)(e.outputs[0].data.regions.map((function(e){return e.region_info.bounding_box}))),a=document.getElementById("inputimage"),n=Number(a.width),r=Number(a.height);return Object(j.a)(t.map((function(e){return{leftCol:e.left_col*n,topRow:e.top_row*r,rightCol:n-e.right_col*n,bottomRow:r-e.bottom_row*r}})))},a.displayAllFaces=function(e){a.setState({faces_array:Object(j.a)(e)})},a.onButtonSubmit=function(){a.setState({imageUrl:a.state.input}),console.log(a.state.input),console.log(_()(a.state.input)),_()(a.state.input)?(a.setState({input_error:""}),F.models.predict(B.a.FACE_DETECT_MODEL,a.state.input).then((function(e){e&&fetch("https://cors-anywhere.herokuapp.com/https://server-image-face-detection.herokuapp.com/api/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.user.id})}).then((function(e){return e.json()})).then((function(e){a.setState(Object.assign(a.state.user,{entries:e}))})).catch(console.log),a.displayAllFaces(a.calculateFaceLocation(e))})).catch((function(e){return console.log(e)}))):(console.log("empty link or incorrect image link "),a.setState({input_error:" false"}))},a.state={input:"",imageUrl:"",faces_array:[],input_error:"",user:{id:a.props.user.id,name:a.props.user.name,email:a.props.user.email,entries:a.props.user.entries,joined:a.props.user.joined}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.input_error,a=e.faces_array,n=e.imageUrl;return r.a.createElement("div",null,r.a.createElement(I,{name:this.state.user.name,entries:this.state.user.entries}),r.a.createElement(x,{input_error:t,onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),r.a.createElement(R,{box:a,imageUrl:n}))}}]),t}(r.a.Component),U=a(9),D=a.n(U),M=a(37),q=a(102),J=a.n(q),A=a(17);function V(){return z.apply(this,arguments)}function z(){return(z=Object(M.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/face-recognition-client/models",e.next=3,A.i(t);case 3:return e.next=5,A.g(t);case 5:return e.next=7,A.h(t);case 7:return e.next=9,A.f(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return W.apply(this,arguments)}function W(){return(W=Object(M.a)(D.a.mark((function e(t){var a,n,r,i,s,o,c=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:512,n=.5,r=new A.c({inputSize:a,scoreThreshold:n}),i=!0,e.next=6,A.e(t);case 6:return s=e.sent,e.next=9,A.d(s,r).withFaceLandmarks(i).withFaceDescriptors();case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(177);var K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:a.setInputDevice();case 3:case"end":return e.stop()}}),e)}))),a.setInputDevice=function(){navigator.mediaDevices.enumerateDevices().then(function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return"videoinput"===e.kind}));case 2:if(!(e.sent.length<2)){e.next=8;break}return e.next=6,a.setState({facingMode:"user"});case 6:e.next=10;break;case 8:return e.next=10,a.setState({facingMode:{exact:"environment"}});case 10:a.startCapture();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.startCapture=function(){a.interval=setInterval((function(){a.capture()}),1500)},a.capture=Object(M.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.webcam.current){e.next=8;break}return e.next=3,L(a.webcam.current.getScreenshot(),160).then((function(e){e&&a.setState({detections:e.map((function(e){return e.detection})),descriptors:e.map((function(e){return e.descriptor}))})}));case 3:if(!a.state.descriptors||!a.state.faceMatcher){e.next=8;break}return e.next=6,a.state.descriptors.map((function(e){return a.state.faceMatcher.findBestMatch(e)}));case 6:t=e.sent,a.setState({match:t});case 8:case"end":return e.stop()}}),e)}))),a.webcam=r.a.createRef(),a.state={fullDesc:null,detections:null,descriptors:null,faceMatcher:null,match:null,facingMode:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.detections,a=e.match,n=e.facingMode,i=null;n&&(i={width:420,height:420,facingMode:n});var s=null;return t&&(s=t.map((function(e,t){var n=e.box.height,i=e.box.width,s=e.box._x,o=e.box._y;return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{position:"absolute",border:"solid",borderColor:"blue",height:n,width:i,transform:"translate(".concat(s,"px,").concat(o,"px)")}},a&&a[t]?r.a.createElement("p",{style:{backgroundColor:"blue",border:"solid",borderColor:"blue",width:i,marginTop:0,color:"#fff",transform:"translate(-3px,".concat(n,"px)")}},a[t]._label):null))}))),r.a.createElement("div",{className:"VideoPlayer"},r.a.createElement("p",{className:"f3"},"enable your camera and it will detect your face in live!"),r.a.createElement("p",{className:"f5"},"*please wait couple seconds for the camera to focuses on "),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:" f3 form center pa4 br5 shadow-1 "},r.a.createElement("div",{className:"VideoPlayer"},r.a.createElement("div",{style:{width:420,height:420}},r.a.createElement("div",{style:{position:"relative",width:420}},i?r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(J.a,{audio:!1,width:420,height:420,ref:this.webcam,screenshotFormat:"image/jpeg",videoConstraints:i})):null,s||null))))))}}]),t}(n.Component),$=(a(178),{particles:{number:{value:70,density:{enable:!0,value_area:400}}}}),G={input:"",route:"signin",isSignedIn:!1,user:{id:"",name:"",email:"",entries:0,joined:""}},H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).loadUser=function(t){e.setState({user:{id:t.id,name:t.name,email:t.email,entries:t.entries,joined:t.joindate}})},e.onRouteChange=function(t){"signout"===t?e.setState(G):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t})},e.state=G,e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.route,a=e.isSignedIn;return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{className:"particles",params:$}),r.a.createElement(h,{onRouteChange:this.onRouteChange,isSignedIn:a}),"home"===t||"imagefacedetection"===t?r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement(P,{user:this.state.user})):"passwordChecker"===t?r.a.createElement(C,null):"videofacedetection"===t?r.a.createElement(K,null):"signin"===t?r.a.createElement("div",null,r.a.createElement(k,{onRouteChange:this.onRouteChange,loadUser:this.loadUser})):"signout"===t?r.a.createElement(k,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}):r.a.createElement(y,{onRouteChange:this.onRouteChange,loadUser:this.loadUser}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(179);s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){},98:function(e,t,a){e.exports=a.p+"static/media/brain.f7fd504d.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.93e5f1d2.chunk.js.map